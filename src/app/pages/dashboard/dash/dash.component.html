<div class="text-900 font-bold text-2xl mb-4 text-center">Cuarto de personajes</div>

<div class="card" style="padding-left: 1rem;">
  <p-panel header=""
    class="line-height-12 m-0">

    <!-- BOTON DE Busqueda -->
    <div class="col lg:col-12" [formGroup]="formBusqueda">
      <div class="grid flex justify-content-between">
        <div class="field col-12 md:col-4 text-center">
            <p-dropdown
              [ngClass]="{'ng-invalid ng-dirty': formBusqueda.get('tipo')?.errors != null && formBusqueda.get('tipo')?.touched == true}"
              [options]="tipoBusqueda"
              [showClear]="true"
              placeholder="Tipo de busqueda"
              formControlName="tipo"
              [style]="{'width':'100%'}"
              (onChange)="cambioTipo($event.value)"
            >
            </p-dropdown>
          </div>
        <div class="field col-12 md:col-4 ">
          <span class="p-float-label" *ngIf="formBusqueda.controls['tipo'].value == 'Nombre' ">
						<input
              type="text"
              pInputText
              formControlName="tipo1"
              [style]="{'width':'100%'}"
            >
						<label>Nombre</label>
					</span>
            <p-dropdown *ngIf="formBusqueda.controls['tipo'].value == 'Estatus' "
            [ngClass]="{'ng-invalid ng-dirty': formBusqueda.get('tipo1')?.errors != null && formBusqueda.get('tipo1')?.touched == true}"
            [options]="estatus"
            [showClear]="true"
            placeholder="Estatus"
            formControlName="tipo1"
            [style]="{'width':'100%'}"
          >
          </p-dropdown>
          <p-dropdown *ngIf="formBusqueda.controls['tipo'].value == 'Especie' "
            [ngClass]="{'ng-invalid ng-dirty': formBusqueda.get('tipo1')?.errors != null && formBusqueda.get('tipo1')?.touched == true}"
            [options]="especie"
            [showClear]="true"
            placeholder="Especie"
            formControlName="tipo1"
            [style]="{'width':'100%'}"
          >
          </p-dropdown>
          <p-dropdown *ngIf="formBusqueda.controls['tipo'].value == 'Sexo' "
            [ngClass]="{'ng-invalid ng-dirty': formBusqueda.get('tipo1')?.errors != null && formBusqueda.get('tipo1')?.touched == true}"
            [options]="sexo"
            [showClear]="true"
            placeholder="Sexo"
            formControlName="tipo1"
            [style]="{'width':'100%'}"
          >
          </p-dropdown>
        </div>
        <div class="field col-12 md:col-4 text-center">
          <button
            type="button"
            (click)="buscar()"
            pButton
            label="Buscar"
            [style]="{'width':'100%'}"
            [disabled]="formBusqueda.invalid"  
          ></button>
        </div>
      </div>
    </div>
    <!-- INICIO de Personajes -->
    <div class="p-fluid p-formgrid grid">
        <div class="field col-12 sm:col-12 md:col-4" *ngFor="let persona of personajes?personajes:[]">
            <div class="p-card shadow-8" style="height: 100%;">
              <div class="p-card-header flex justify-content-center py-3 px-2">
                <h2> {{ persona.id?persona.id:'' }} - {{ persona.name?persona.name.substring(0,15):'' }} </h2>
              </div>
              <div class="p-card-body">
                <div class="p-fluid p-formgrid grid px-5 py-0">
                  <div class="field col-12">
                    <img :src="{{ persona.image?persona.image:'' }}" alt="DescripciÃ³n de la imagen" class="card-image px-5 py-0 " style="width: 100%; overflow: hidden;height: 100%; margin-bottom: -3rem;">
                  </div>
                  <div class="field col-6 sm:col-12 md:col-6" >
                    <p> <strong>Sexo: </strong> {{ persona.gender?persona.gender:'' }} </p>
                  </div>
                  <div class="field col-6 sm:col-12 md:col-6">
                    <p> <strong>Especie: </strong> {{ persona.species?persona.species:'' }} </p>
                  </div>
                  <div class="field col-6 sm:col-12 md:col-6">
                    <p> <strong>Estatus: </strong> {{ persona.status?persona.status:'' }} </p>
                  </div>
                  <div class="field col-6 sm:col-12 md:col-6">
                    <p> <strong>Origen: </strong> {{ persona.origin.name?persona.origin.name:'' }} </p>
                  </div>
                </div>
              </div>
            </div>
        </div>
    </div>

  </p-panel>
  <br>
</div>
<p-toast
  [baseZIndex]="99999"
  key="tst"></p-toast>
